깃허브 액션을 기반으로 한 깃허브 이슈-지라 연동 사례 발표 (김화균)

발표주제

깃허브 액션(GitHub Actions)을 활용한 깃허브 이슈(GitHub Issue)와 지라(Jira)의 단방향 연동 사례

개발팀이 익숙한 깃허브 이슈를 주된 태스크 관리 도구로 사용하면서, 지라의 강력한 리포팅 및 관리 기능을 함께 활용하기 위해 커스텀 깃허브 액션을 개발하여 연동을 자동화한 프로젝트 경험을 공유합니다.

요약

개발 중심의 깃허브 이슈 관리 환경과 고급 리포팅 및 권한 관리에 강점이 있는 지라를 함께 사용하고자 했습니다. 그러나 팀원들이 지라 사용에 익숙하지 않아, 기존의 개발 워크플로우를 유지하며 지라를 도입하는 방안이 필요했습니다.

이를 해결하기 위해, 깃허브 이슈가 생성되거나 수정될 때 지라에 자동으로 태스크가 생성 및 업데이트되는 단방향 연동을 구현했습니다. 아틀라시안에서 제공했지만 현재는 지원이 중단된(Deprecated) 'Gojira' 깃허브 액션 모듈을 직접 분석하고 개선하여 커스텀 액션을 개발했습니다.

특히, 깃허브 이슈 본문의 체크박스 목록을 지라의 하위 태스크(Subtask)로 자동 생성하고, 담당자(Assignee) 정보까지 동기화하는 기능을 직접 구현하여 연동의 실효성을 높였습니다. 그 결과, 팀원들은 깃허브에서 평소처럼 이슈를 관리하는 것만으로도 지라에 모든 진행 상황이 자동으로 기록되어, 회의나 전체 진행률 파악 시에만 지라를 효율적으로 활용할 수 있었습니다.

발표내용

1. 도입 배경 및 문제 인식

* 프로젝트 환경: 캡스톤 디자인 프로젝트로, 중간/기말고사를 제외하면 실제 개발 기간이 약 7주로 매우 짧았음.
* 도구 비교:
  * 깃허브 이슈: 개발자들이 익숙하며 주요 기능(태스크 생성, 할당, 라벨링 등)을 지원.
  * 지라: 태스크 관리 전문 서비스로, 고급 리포팅, 권한 관리, 에픽/스토리 연계 등 깃허브 이슈보다 훨씬 강력한 관리 기능을 제공.
* 도입의 필요성: 발표자는 졸업 전 지라 사용 경험을 쌓고 싶다는 개인적인 동기가 있었음.
* 팀원들의 저항: 팀원 전원이 지라 사용 경험이 없어, 새로운 툴 도입에 대한 반발과 학습 비용에 대한 우려가 있었음.
* 기존 연동 방식의 문제점:
  * 일반적인 연동 사례는 '지라 이슈 생성 → 깃허브 이슈 복사' 방식이었음.
  * 이 방식은 깃허브 이슈를 닫은 후 지라 이슈를 별도로 닫아야 하는 번거로움이 있었음.
  * 기존 깃허브 이슈들을 지라로 옮겨야 하는 마이그레이션 부담이 존재했음.
  * PM 경험이 없는 팀원들이 유저 스토리를 직접 관리하는 것 자체가 큰 공수(工數)로 작용했음.

2. 해결 방안: Github 이슈에서 Jira로의 역방향 연동

* 발상의 전환: 기존 방식의 불편함을 해결하기 위해 '깃허브 이슈 생성 → 지라 태스크 자동 생성'이라는 역방향 연동을 고안함.
* 기술 선택: 아틀라시안이 제공했던 깃허브 액션 모듈인 Gojira(GA-Jira)를 기반으로 연동을 시도함. (해당 프로젝트는 현재 Deprecated 상태)
* 초기 연동 프로세스:
  1. 지라 로그인: 깃허브 액션 워크플로우에서 지라에 로그인.
  2. 이슈 파싱: 깃허브와 지라의 마크다운 처리 방식이 내부적으로 달라, 깃허브 이슈 본문을 지라 형식에 맞게 파싱.
  3. 마크다운 변환: 파싱된 데이터를 마크다운 문법으로 재변환.
  4. 지라 이슈 생성: 변환된 내용으로 지라에 이슈를 생성.

3. 초기 연동의 한계점

초기 연동은 성공적이었으나, 다음과 같은 명확한 한계점들이 존재했습니다.

1. 수정 사항 미반영: 이슈가 한번 생성된 이후 깃허브에서 내용이 수정되어도 지라에는 반영되지 않았음.
2. 세부 업무 추적 불가:
  * 깃허브 이슈 내 체크박스(- [ ])로 관리하던 세부 업무들이 지라의 하위 태스크(Subtask) 기능과 연동되지 않았음.
  * 이로 인해 지라 대시보드에서 개인별 실제 진행률을 명확히 파악할 수 없었음.
3. 담당자 정보 누락: 깃허브 이슈의 담당자(Assignee)가 지라 태스크에 연동되지 않아, 지라에서는 '할당되지 않음'으로 표시되었음.

4. 커스텀 액션 개발을 통한 기능 개선

기존 모듈의 한계를 극복하기 위해 Gojira-create 프로젝트 코드를 직접 분석하고 필요한 기능을 추가한 커스텀 깃허브 액션을 개발했습니다.

* 코드 분석:
  * 내부적으로 restify를 사용하며, 현재는 지원 중단된 Jira API v2를 사용하고 있었음.
  * 문서가 불친절하고 API 요청/응답 형식이 거의 맞지 않아, 직접 API 요청을 보내며 (박치기하며) 기능을 구현함.
* 주요 개선 사항:
  1. 담당자(Assignee) 연동:
    * 아틀라시안의 사용자 계정 목록 조회 API (/rest/api/3/users/search)를 직접 호출하는 기능을 추가.
    * 깃허브 사용자 이름과 일치하는 지라 사용자를 찾아 자동으로 담당자를 매핑함.
    * 인증은 기존 gojira-login 액션이 처리해주어 별도 토큰 관리는 불필요했음.
  2. 하위 태스크(Subtask) 생성 및 업데이트 연동:
    * 깃허브 이슈 본문(Description)의 체크박스를 파싱하여 지라 하위 태스크를 생성하는 createSubtask 메서드를 작성.
    * 깃허브 이슈가 수정될 때마다 기존 이슈 정보를 불러와 체크박스 상태 변화를 감지하고, 이에 맞춰 지라의 해당 하위 태스크 상태를 재귀적으로 업데이트하는 로직을 구현.
    * 새로운 체크박스가 추가되면 지라에 새로운 하위 태스크를 생성하는 기능(updateDescription)도 추가함.
* 적용: 개발한 커스텀 액션을 깃허브에 게시하고, 워크플로우 파일(.yml)의 uses 필드를 기존 모듈 URL에서 직접 만든 커스텀 액션 URL로 변경하여 적용함.

결론

최종적으로 깃허브 이슈를 작성하면 깃허브 액션이 자동으로 실행되어 지라에 태스크가 생성 및 업데이트되는 완전 자동화 워크플로우를 구축했습니다.

* 지라 태스크에는 담당자, 세부 진행 상황(하위 태스크), 그리고 원본 깃허브 이슈로 돌아갈 수 있는 URL이 모두 자동으로 포함됩니다.
* 이를 통해 개발팀은 익숙한 깃허브 환경에서 벗어나지 않고 업무를 수행할 수 있었고, 프로젝트 관리는 지라의 대시보드를 통해 회의 등 필요한 시점에 효율적으로 진행할 수 있었습니다.
* 이 방식은 PM 역할이 부담스럽거나, 개발자들이 지라 사용을 꺼리는 팀에게 효과적인 대안이 될 수 있습니다.

Q&A

질문	답변
Q. 지라에서 수정하면 깃허브에도 반영되는 양방향 연동인가요? (37:33)	A. 아니요, 의도적으로 깃허브에서 지라로 가는 단방향으로만 구현했습니다. 지라에서의 수정이 깃허브 내용을 덮어쓰는 경우를 방지하기 위함입니다.
Q. 프로젝트의 주된 관리 도구는 깃허브였나요, 지라였나요? (38:12)	A. 실제 태스크 관리는 깃허브 이슈를 중심으로 진행했습니다. 지라는 회의 때 각자의 진행 상황을 공유하고 전체적인 현황을 파악하는 용도로 사용했는데, 시각적으로 더 편리했기 때문입니다.
Q. 깃허브 이슈 번호와 지라 태스크 번호는 어떻게 매핑했나요? (38:35)	A. 지라 태스크 ID를 기준으로 삼았습니다. 최초 생성 시점에는 지라 ID가 없으므로 깃허브 이슈 번호를 임시로 참조하고, 지라 태스크가 생성된 이후의 모든 업데이트 로직(상태 변경 등)은 부여된 지라 ID를 기준으로 동작합니다.
Q. 지라 티켓 번호가 세 자리를 넘어가면(999번 이상) 어떻게 되나요? (40:19)	A. 지라에서 자동 생성되는 번호이며, 1부터 순차적으로 증가하는 방식이라 세 자리 수에 국한되지 않고 1000번, 1001번 등으로 계속해서 생성될 것으로 보입니다.
